{% extends "GradeTracker/basepage.html" %}

{% load static %}


{% block content %}
<body>

	<h1>Activities</h1>
	<table>
      <tr> 
            <td>Activity</td>
            <td>Activity Weight </td>
      </tr> 
      {% for activity in course.graded_activities_set.all %}
	<tr>
		<td>{{ activity.activity_name }}</td>
		<td>
			<input type="number" name="{{activity.activity_name}}-weight" min="0" max="1"
				value="{{ activity.grade_weight }}" step=".05"/>
		</td>
	</tr>
	{% endfor %}
	</table>

  <table>
  {% for activity in course.graded_activities_set.all %}
  <tr>
    <td>
      {{ activity.activity_name }}
    </td>
    <td>
        <input type='checkbox' id='checks{{ forloop.counter }}' />
    </td>
    <td>
      <input id="slider{{ forloop.counter }}" type="text" data-slider="true" value="{{ activity.grade_earned }}" data-slider-highlight="true" data-slider-theme="volume">
    </td>

   </tr>
  {% endfor %}

  <tr>
    <td>
      Total
    </td>
    <td>
        <input type='checkbox' id='check1' />
    </td>
    <td>
      <input id="slidertotal" type="text" data-slider="true" value="{{ sum }} " data-slider-highlight="true" data-slider-theme="volume">
    </td>

   </tr>


  </table>

<script>
  
  $("[data-slider]").each().slider();

/*
  var temptotal = 0;
  var tempsinlge = 0;
  var remainder = 0;
  var total = document.getElementById('slidertotal').value;
<<<<<<< HEAD
  var total = parseFloat(total);
=======
  total = parseFloat(total);

  $('#slidertotal').mousedown(function(){
	
  });
>>>>>>> 123164f514b8623be509227a42c7e2a414a6688b

  function getTotal(){
	temptotal = 0;
        {% for activity in course.graded_activities_set.all %}
		tempsingle = document.getElementById('slider{{ forloop.counter }}').value * {{ activity.grade_weight }};
                temptotal += tempsingle;
        {% endfor %}
	total = temptotal;
  }


$( "#slidertotal" ).bind( "slider:changed", function( event, data ) {
  getTotal();
  $("#slidertotal").simpleSlider("setValue", 
    total );   
  });

{% for activity in course.graded_activities_set.all %}
  $( "#slider{{ forloop.counter }}" ).bind( "slider:changed", function( event, data ) {
	event.stopImmediatePropogation();
	getTotal();
	$("#slidertotal").simpleSlider("setValue", 
		total );   
  });

{% endfor %}
*/

  </script>    
</body>


{% endblock %}
